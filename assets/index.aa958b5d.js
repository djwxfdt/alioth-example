var w=Object.defineProperty,b=Object.defineProperties;var f=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var h=(t,e,a)=>e in t?w(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,n=(t,e)=>{for(var a in e||(e={}))R.call(e,a)&&h(t,a,e[a]);if(m)for(var a of m(e))y.call(e,a)&&h(t,a,e[a]);return t},o=(t,e)=>b(t,f(e));import{r as H,o as P,m as W,d,R as i,n as I,p as S,B as z,I as D,D as N}from"./index.7f6ab497.js";import{R as u}from"./resize-image.226ceb58.js";const x=t=>{const{passProps:e}=t,[a,l]=H.exports.useState(!1),c=P(),E=W(),g=d(r=>{c(t.attributes.id,o(n({},t.passProps),{width:r}))}),v=d(()=>{l(!0)}),p=d(r=>{const s=new window.Image;s.src=r.png,s.onload=()=>{c(t.attributes.id,o(n(n({},t.passProps),r),{originalWidth:s.naturalWidth,originalHeight:s.naturalHeight})),l(!1)}});return E.readOnly?i.createElement(u,{fileUrl:e.png,width:e.width,originalWidth:e.originalWidth,originalHeight:e.originalHeight,onResizeEnd:g,readOnly:!0}):i.createElement("span",o(n({},t.attributes),{"data-alioth-void":!0}),i.createElement(I,{trigger:["hover"],placement:"bottom",overlay:i.createElement("div",{className:"alioth-draw-overlay"},i.createElement(S,{overlay:"\u7F16\u8F91",placement:"bottom"},i.createElement(z,{className:"alioth-draw-overlay-btn",onClick:v},i.createElement(D,{type:"select"}))))},i.createElement("span",null,i.createElement(u,{fileUrl:e.png,width:e.width,originalWidth:e.originalWidth,originalHeight:e.originalHeight,onResizeEnd:g}))),i.createElement(N,o(n({visible:a,onVisibleChange:l},t.passProps),{onSave:p})))};export{x as default};
